window.sswMd5=function(b){var a=function(a,b){var h=a[0],k=a[1],l=a[2],g=a[3];h=d(h,k,l,g,b[0],7,-680876936);g=d(g,h,k,l,b[1],12,-389564586);l=d(l,g,h,k,b[2],17,606105819);k=d(k,l,g,h,b[3],22,-1044525330);h=d(h,k,l,g,b[4],7,-176418897);g=d(g,h,k,l,b[5],12,1200080426);l=d(l,g,h,k,b[6],17,-1473231341);k=d(k,l,g,h,b[7],22,-45705983);h=d(h,k,l,g,b[8],7,1770035416);g=d(g,h,k,l,b[9],12,-1958414417);l=d(l,g,h,k,b[10],17,-42063);k=d(k,l,g,h,b[11],22,-1990404162);h=d(h,k,l,g,b[12],7,1804603682);g=d(g,h,k,
l,b[13],12,-40341101);l=d(l,g,h,k,b[14],17,-1502002290);k=d(k,l,g,h,b[15],22,1236535329);h=f(h,k,l,g,b[1],5,-165796510);g=f(g,h,k,l,b[6],9,-1069501632);l=f(l,g,h,k,b[11],14,643717713);k=f(k,l,g,h,b[0],20,-373897302);h=f(h,k,l,g,b[5],5,-701558691);g=f(g,h,k,l,b[10],9,38016083);l=f(l,g,h,k,b[15],14,-660478335);k=f(k,l,g,h,b[4],20,-405537848);h=f(h,k,l,g,b[9],5,568446438);g=f(g,h,k,l,b[14],9,-1019803690);l=f(l,g,h,k,b[3],14,-187363961);k=f(k,l,g,h,b[8],20,1163531501);h=f(h,k,l,g,b[13],5,-1444681467);
g=f(g,h,k,l,b[2],9,-51403784);l=f(l,g,h,k,b[7],14,1735328473);k=f(k,l,g,h,b[12],20,-1926607734);h=c(k^l^g,h,k,b[5],4,-378558);g=c(h^k^l,g,h,b[8],11,-2022574463);l=c(g^h^k,l,g,b[11],16,1839030562);k=c(l^g^h,k,l,b[14],23,-35309556);h=c(k^l^g,h,k,b[1],4,-1530992060);g=c(h^k^l,g,h,b[4],11,1272893353);l=c(g^h^k,l,g,b[7],16,-155497632);k=c(l^g^h,k,l,b[10],23,-1094730640);h=c(k^l^g,h,k,b[13],4,681279174);g=c(h^k^l,g,h,b[0],11,-358537222);l=c(g^h^k,l,g,b[3],16,-722521979);k=c(l^g^h,k,l,b[6],23,76029189);
h=c(k^l^g,h,k,b[9],4,-640364487);g=c(h^k^l,g,h,b[12],11,-421815835);l=c(g^h^k,l,g,b[15],16,530742520);k=c(l^g^h,k,l,b[2],23,-995338651);h=e(h,k,l,g,b[0],6,-198630844);g=e(g,h,k,l,b[7],10,1126891415);l=e(l,g,h,k,b[14],15,-1416354905);k=e(k,l,g,h,b[5],21,-57434055);h=e(h,k,l,g,b[12],6,1700485571);g=e(g,h,k,l,b[3],10,-1894986606);l=e(l,g,h,k,b[10],15,-1051523);k=e(k,l,g,h,b[1],21,-2054922799);h=e(h,k,l,g,b[8],6,1873313359);g=e(g,h,k,l,b[15],10,-30611744);l=e(l,g,h,k,b[6],15,-1560198380);k=e(k,l,g,h,
b[13],21,1309151649);h=e(h,k,l,g,b[4],6,-145523070);g=e(g,h,k,l,b[11],10,-1120210379);l=e(l,g,h,k,b[2],15,718787259);k=e(k,l,g,h,b[9],21,-343485551);a[0]=m(h,a[0]);a[1]=m(k,a[1]);a[2]=m(l,a[2]);a[3]=m(g,a[3])},c=function(a,b,c,d,f,e){b=m(m(b,a),m(d,e));return m(b<<f|b>>>32-f,c)},d=function(a,b,d,f,e,g,m){return c(b&d|~b&f,a,b,e,g,m)},f=function(a,b,d,f,e,g,m){return c(b&f|d&~f,a,b,e,g,m)},e=function(a,b,d,f,e,g,m){return c(d^(b|~f),a,b,e,g,m)},n="0123456789abcdef".split("");window.sswMd5=function(b){var c=
b;txt="";var d=c.length;b=[1732584193,-271733879,-1732584194,271733878];var f;for(f=64;f<=c.length;f+=64){var e,g=c.substring(f-64,f),m=[];for(e=0;64>e;e+=4)m[e>>2]=g.charCodeAt(e)+(g.charCodeAt(e+1)<<8)+(g.charCodeAt(e+2)<<16)+(g.charCodeAt(e+3)<<24);a(b,m)}c=c.substring(f-64);e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(f=0;f<c.length;f++)e[f>>2]|=c.charCodeAt(f)<<(f%4<<3);e[f>>2]|=128<<(f%4<<3);if(55<f)for(a(b,e),f=0;16>f;f++)e[f]=0;e[14]=8*d;a(b,e);for(c=0;c<b.length;c++){d=b;f=c;e=b[c];g="";for(m=
0;4>m;m++)g+=n[e>>8*m+4&15]+n[e>>8*m&15];d[f]=g}return b.join("")};var m=function(a,b){return a+b&4294967295};"5d41402abc4b2a76b9719d911017c592"!=this.sswMd5("hello")&&(m=function(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535});return window.sswMd5(b)};
if("undefined"===typeof sswAppJS){var checkUser=function(b){if("undefined"!=typeof sswApp["default"]&&0==sswApp["default"]){var a={_sid:sswCookie("hesid"),hash_key:sswCookie("hash_key")},c=!1;"undefined"!==typeof localStorage&&(b.cookie("cart")&&localStorage.getItem("ssw_cart")!=b.cookie("cart")&&(c=!0,a.cart_token=b.cookie("cart")),localStorage.getItem("ssw_our_revenue")&&(c=!0,a.revenue=JSON.parse(localStorage.getItem("ssw_our_revenue"))));a.hash_key||(c=!0);"undefined"!==typeof sswApp.cart_item_count&&
(a.cart_item_count=sswApp.cart_item_count);c&&b.post(sswProxyUrl+"/lite2/user/check",a,function(b){"undefined"!==typeof b.hash_key&&b.hash_key&&ssw.cookie("hash_key",b.hash_key,{expires:30,path:"/"});"undefined"!==typeof a.cart_token&&localStorage.setItem("ssw_cart",a.cart_token);"undefined"!==typeof a.revenue&&localStorage.removeItem("ssw_our_revenue")},"json")}else{c={_sid:sswCookie("hesid"),hash_key:sswCookie("hash_key"),from_mail_id:sswGetParameterByName("mail_id"),from_hash_key:sswGetParameterByName("from_hash_key"),
from_email:sswGetParameterByName("email"),is_auth_redirect:sswIsOauthRedirectFrom()};if("undefined"!==typeof sswApp.customer&&(c.customer_id=sswApp.customer.id,"undefined"!==typeof localStorage)){var d=localStorage.getItem("ssw-wishlist");d&&(c.wishlist=JSON.parse(d),localStorage.removeItem("ssw-wishlist"));if(d=localStorage.getItem("challenge_password"))c.challenge_password=d,localStorage.removeItem("challenge_password")}"undefined"!=typeof sswCookie("cart")&&(c.cart_token=sswCookie("cart"));"undefined"!=
typeof sswCookie("ssw_our_session")&&(c.ssw_our_session=sswCookie("ssw_our_session"));"undefined"!=typeof sswCookie("ssw_referrer")&&(c.ssw_referrer=sswCookie("ssw_referrer"));"undefined"!==typeof localStorage&&(d=localStorage.getItem("ssw_our_revenue"))&&(c.revenue=JSON.parse(d));"undefined"!==typeof sswApp.cart_item_count&&(c.cart_item_count=sswApp.cart_item_count);ssw.ajax({type:"post",url:sswProxyUrl+"/lite2/user/check",data:c,success:function(a){window.ssw_enable_quickview=a.enable_quickview;
if("undefined"!=typeof a.discount&&a.discount){b("#ssw-discount-code").html(a.discount.code);b("#discount-date").html(sswLangs.t("valid_until_coupon",[a.discount.date]));var c=b("#discount-instructions");c.html(a.discount.instructions+c.html());sswLibraryLoaded(function(){b("#ssw-discount-modal").sswModal()})}1==a.show_follow&&"undefined"!=typeof showFollowPopup&&setTimeout(function(){showFollowPopup()},5E3);"logout"!=a.result&&"User not found"!=a.result||sswCookie("hesid",null);a.hash_key&&ssw.cookie("hash_key",
a.hash_key,{expires:30,path:"/"});!a.cart||"undefined"!=typeof ssw.cookie("cart")&&ssw.cookie("cart")==a.cart||(c=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),ssw.getJSON("/cart.json?v="+c,function(b){b.item_count||ssw.cookie("cart",a.cart,{expires:14,path:"/"})}));userChecked=!0;window.ssw.usercheckResponse=a;window.ssw.isFree=a.isFree;window.ssw.isLite=a.isLite;window.ssw.apps=a.apps;window.ssw.suggest_login=a.suggest_login;window.ssw.suggest_login_period=
a.suggest_login_period;window.ssw.login_redirect_url=a.login_redirect_url;a.modules&&(window.ssw.modules=a.modules);window.sswHelperLoaded?sswCheckBranding():window.addEventListener("sswhelperload",sswCheckBranding);"undefined"!==typeof sswApp.customer&&localStorage.getItem("ssw-wishlist")&&localStorage.removeItem("ssw-wishlist");localStorage.removeItem("ssw_our_revenue");sswDispatchEvent("sswusercheck",{detail:{ajaxResponse:a},bubbles:!0,cancelable:!1})},cacheSuccess:function(a){window.ssw.usercheckResponse=
a;window.ssw.isFree=a.isFree;window.ssw.isLite=a.isLite;window.ssw.apps=a.apps;window.ssw.suggest_login=a.suggest_login;window.ssw.suggest_login_period=a.suggest_login_period;window.ssw.login_redirect_url=a.login_redirect_url;a.modules&&(window.ssw.modules=a.modules)},dataType:"json",async:!0})}},sswIsOauthRedirectFrom=function(){var b=0;30<location.hash.length&&(b=(b=JSON.parse(decodeURIComponent(location.hash.substr(1,location.hash.length-1))))&&b.oauth_redirect&&b.service);return b},sswCheckBranding=
function(){if(window.ssw.usercheckResponse.isFree||window.ssw.usercheckResponse.isLite){var b={"#login_modal .ssw-modal-footer":{name:"login_modal",css:{"margin-top":"5px"}},"#signup_modal .ssw-modal-footer":{name:"signup_modal",css:{"margin-top":"5px"}},"#notifyModal .ssw-modal-footer":{name:"notify_modal",css:{"margin-top":"10px"}},".ssw-social-login-widget":{name:"login_page",css:{"font-size":"12px","margin-top":"10px","float":"none"}},"#ssw-product-modal .ssw-modal-footer":{name:"product_modal",
css:{"margin-top":"10px"}},"#ssw-action-modal .ssw-modal-footer":{name:"action_modal",css:{"margin-top":"10px"}}},a=ssw(window.ssw.usercheckResponse.watermark),c;for(c in b)if(b.hasOwnProperty(c)){var d=a.clone();d.attr("href",d.attr("href")+b[c].name).css(b[c].css);ssw(c).append(d)}}else ssw("#ssw-product-modal .ssw-modal-footer").css("display","none")},sswCookie=function(b,a,c){c=c?c:168;if(a&&c){var d=new Date;d.setHours(d.getHours()+c);a=escape(a)+(null==c?"":"; expires="+d.toUTCString());document.cookie=
b+"="+a;return this}return(b=document.cookie.match(new RegExp("(?:^|; )"+b.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(b[1]):void 0},sswCookieLoad=function(b){b.cookie=function(a,c,d){if(1<arguments.length&&(null===c||"object"!==typeof c)){d=b.extend({},d);null===c&&(d.expires=-1);if("number"===typeof d.expires){var f=d.expires;var e=d.expires=new Date;e.setDate(e.getDate()+f)}else"string"===typeof d.expires&&(f=parseInt(d.expires),e=d.expires=new Date,e.setHours(e.getHours()+
f));return document.cookie=[encodeURIComponent(a),"=",d.raw?String(c):encodeURIComponent(String(c)),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")}d=c||{};f=d.raw?function(a){return a}:decodeURIComponent;return(e=(new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)")).exec(document.cookie))?f(e[1]):null};null==b.cookie("hesid")&&b.cookie("hesid",function(){var a=function(){return Math.floor(65536*(1+
Math.random())).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}(),{path:"/"})},syncCredentials=function(b){if(sswApp&&sswApp.customer&&sswApp.customer.email){var a=btoa(sswApp.customer.email),c=localStorage.getItem(a);c&&b.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/encrypt",data:{_sid:ssw.cookie("hesid"),hash_key:ssw.cookie("hash_key"),email:sswApp.customer.email,password:atob(atob(atob(c.split("").reverse().join("")).split("").reverse().join("")).split("").reverse().join("")),
sync_credentials:!0},dataType:"json",success:function(b){"undefined"!==typeof b.new_password&&b.new_password&&"undefined"!==typeof localStorage&&(localStorage.setItem("challenge_password",b.new_password),localStorage.removeItem(a))}})}},sswLoadScript=function(b,a,c){var d=document.createElement("script");d.type="text/javascript";"undefined"!==typeof c&&c&&(d.async=!0);if(0<=b.indexOf("ssw-lib")){c=document.getElementsByTagName("script");for(var f in c){var e=c[f];if("undefined"!=typeof e.src&&0<=
e.src.indexOf("ssw-lib"))return}d.setAttribute("data-no-instant",!0)}d.readyState?d.onreadystatechange=function(){if("loaded"==d.readyState||"complete"==d.readyState)d.onreadystatechange=null,"function"==typeof a&&a()}:d.onload=function(){"function"==typeof a&&a()};d.src=b;document.getElementsByTagName("head")[0].appendChild(d)},sswUserChecked=function(b){if("undefined"!=typeof userChecked&&userChecked)b(ssw);else var a=setInterval(function(){"undefined"!=typeof userChecked&&userChecked&&(clearInterval(a),
b(ssw))},10)},sswLibraryLoaded=function(b){if("undefined"==typeof sswLibraryJsLoaded)var a=setInterval(function(){"undefined"!=typeof sswLibraryJsLoaded&&sswLibraryJsLoaded&&(clearInterval(a),b(ssw))},10);else b(ssw)},sswCoreLoaded=function(b){if("undefined"==typeof sswCoreJsLoaded)var a=setInterval(function(){"undefined"!=typeof sswCoreJsLoaded&&sswCoreJsLoaded&&(clearInterval(a),b(ssw))},10);else b(ssw)},sswDispatchEvent=function(b,a){_sswNewDispatchEvent(b,a);try{var c=new CustomEvent(b,a)}catch(d){c=
document.createEvent("Event"),c.initEvent(b,a.bubbles?a.bubbles:!0,a.cancellable?a.cancellable:!1),a.detail&&(c.detail=a.detail)}document.dispatchEvent(c)},sswGetBiggestPhoto=function(b,a){var c=0,d=b[c],f=document.createElement("img");f.src=b[c].src;f.onload=function(){d.width*d.height<f.width*f.height&&(d=b[c]);b[c+1]?(c++,f.src=b[c].src):a(d)}},sswGetPopupBounds=function(b,a){return"width="+b+", height="+a+", top="+(screen.height/2-a/2-60)+", left="+(screen.width/2-b/2-8)},sswGetParameterByName=
function(b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");b=(new RegExp("[\\?&]"+b+"=([^&#]*)")).exec(location.search);return null==b?"":decodeURIComponent(b[1].replace(/\+/g," "))},sswIsWebView=function(){var b=window.navigator.userAgent.toLowerCase();return localStorage.login_test||/iphone|ipod|ipad/.test(b)&&(!/safari/.test(b)||/gsa/.test(b))?!0:/fb_iab|instagram|whatsapp|youtube|mqqbrowser|thunderbird|electron/.test(b)?!0:""},sswLazyLoad=function(b,a,c){var d="data-src";c&&c.data_attr&&(d=c.data_attr);
a=(b?b:document).querySelectorAll(a+"["+d+'*="//"]');if("IntersectionObserver"in window){c={threshold:.5};b&&-1<b.toString().indexOf("Element")&&(c.root=b);var f=new IntersectionObserver(function(a,b){a.forEach(function(a){if(a.isIntersecting){a=a.target;var b=a.getAttribute(d);"IMG"==a.tagName?a.src=b:a.style.backgroundImage="url("+b+")";f.unobserve(a)}})},c);a.forEach(function(a){f.observe(a)})}else a.forEach(function(a){var b=a.getAttribute(d);"IMG"==a.tagName?a.src=b:a.style.backgroundImage="url("+
b+")"})},sswAppJS=!0;(function(b,a,c){try{if(function(a){for(var b=document.cookie.split(";"),c=0;c<b.length;++c){var d=b[c].trim().split("=");if(d[0]==a)return d[1]}return null}("hash_key"))if(sswApp.customer)sswRun(function(b){b(c).on("click",'a[href$="/account/logout"]',function(b){a.removeItem("ssw_user_session_token");a.removeItem("ssw-helpers-content")})}),sswUserChecked(function(b){b.usercheckResponse.user_session_token&&a.setItem("ssw_user_session_token",JSON.stringify({token:b.usercheckResponse.user_session_token,
customer_id:parseFloat(b("#ssw_cid").val()),time:(new Date).getTime()}))});else{var d=a.getItem("ssw_user_session_token")&&JSON.parse(a.getItem("ssw_user_session_token"));if(d)if(d.time<(new Date).getTime()-144E5){var f=new XMLHttpRequest;f.open("POST",sswProxyUrl+"/lite2/user/prolongsession");var e=new FormData;e.append("token",d.token);e.append("customer_id",d.customer_id);f.send(e);f.onreadystatechange=function(){a.removeItem("ssw_user_session_token");if(4==f.readyState){var b=JSON.parse(f.responseText);
if(b.success){var c=new XMLHttpRequest;c.open("POST","/account/login");var d=c.setRequestHeader;c.setRequestHeader=function(a,b){"X-Requested-With"!=a&&d.call(this,a,b)};var e=new FormData;e.append("form_type","customer_login");e.append("utf8","\u2713");e.append("customer[email]",b.email);e.append("customer[password]",b.password);c.onreadystatechange=function(){4==c.readyState&&location.reload()};c.send(e)}}}}else a.removeItem("ssw_user_session_token")}else a.removeItem("ssw_user_session_token"),
a.setItem("debug_login","no hash_key")}catch(n){}})(window,localStorage,document);var ssw_is_auth_page=-1<location.pathname.indexOf("/account"),ssw_message_selector=ssw_is_auth_page?'form[action*="/account"]:not(#he_customer_login, #he_create_customer)':"#login_modal .login-failed";(function(b){var a={},c={};b.sswAddEventListener=function(b,f){b&&b in c&&!0===c[b]?f():(a[b]||(a[b]=[]),a[b].push(f))};b._sswNewDispatchEvent=function(b,f){b&&(c[b]=!0);Array.isArray(a[b])&&a[b].map(function(a){a()})}})(window);
if(!("placeholder"in document.createElement("input"))){sswHead=document.getElementsByTagName("head")[0];var script=document.createElement("script");script.type="text/javascript";script.src=sswProxyUrl+"/public/js/core/placeholders.js";sswHead.appendChild(script)}var shop_url="http://"+Shopify.shop,sswJqLoaded=!1,ssw=!1,userChecked=!1,loadSswWidgetListingInterval=[],sswProductPins=[],sswLoadJg=!0;if("undefined"!==typeof jQuery&&-1==jQuery.fn.jquery.indexOf("1.8")){var sswClientJqVernums=jQuery.fn.jquery.split(".");
if(1<parseInt(sswClientJqVernums[0])||7<parseInt(sswClientJqVernums[1]))sswLoadJg=!1}"undefined"!==typeof sswLoadNewJq&&sswLoadNewJq||sswLoadJg?sswLoadScript("//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js",function(){ssw=jQuery.noConflict(!0);sswJqLoaded=!0;sswDispatchEvent("sswjqueryload",{detail:{ssw:ssw},bubbles:!0,cancelable:!1});sswCookieLoad(ssw);syncCredentials(ssw);checkUser(ssw)}):(ssw=jQuery,sswJqLoaded=!0,sswDispatchEvent("sswjqueryload",{detail:{ssw:ssw},bubbles:!0,cancelable:!1}),
sswCookieLoad(ssw),syncCredentials(ssw),checkUser(ssw));if("undefined"!==typeof sswApp.customer){var ssw_checkout_url=sswGetParameterByName("checkout_url");ssw_checkout_url&&(location.href=ssw_checkout_url)}sswHelperLoaded=!1;var helperCallback=function(b){var a=document.createElement("div");a.id="ssw-async-html";a.innerHTML=b;var c=a.querySelector("#ssw-async-html");c&&(a.innerHTML=c.innerHTML);a.style.display="none";document.body.appendChild(a);c=a.getElementsByTagName("script");for(var d=0;d<c.length;d++)try{eval(c[d].text)}catch(f){console.log(c[d].text,
f)}sswDispatchEvent("sswhelperload",{detail:{ajaxResponse:b,helperContainer:a},bubbles:!0,cancelable:!1});sswHelperLoaded=!0},cache_content=localStorage.getItem("ssw-helpers-content");cache_content&&helperCallback(cache_content);var sswXhr=new XMLHttpRequest;sswXhr.open("GET","/?view=ssw-async");sswXhr.onreadystatechange=function(){4==sswXhr.readyState&&(localStorage.getItem("ssw-helpers-content")||helperCallback(sswXhr.responseText),localStorage.setItem("ssw-helpers-content",sswXhr.responseText))};
sswXhr.send();window.addEventListener("focus",function(){localStorage.removeItem("ssw-helpers-content")});sswLoadScript("//cdn.shopify.com/s/files/1/0594/9276/1791/t/2/assets/ssw-libraries.js?v=10831655697039991437",!1,!0);if("object"===typeof ssw_scripts&&ssw_scripts.length)for(var i in ssw_scripts)if(ssw_scripts.hasOwnProperty(i)){var script_source=ssw_scripts[i];-1==script_source.indexOf(Shopify.shop)&&(script_source+="?shop="+Shopify.shop);document.querySelector('script[src="'+script_source+'"]')||sswLoadScript(script_source,!1,!0)}if("undefined"===
typeof sswApp.customer){var serviceUserChecker=function(b,a){FB.api("/me",{fields:"id,email"},function(c){ssw.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/service",data:{_sid:ssw.cookie("hesid"),user_id:b.authResponse.userID,email:c.email,service:a,access_token:b.authResponse.accessToken,hash_key:ssw.cookie("hash_key"),verify_token:ssw.cookie("ssw_verify_token")},success:function(c){var d=new ShopifyLogin;"undefined"!==typeof c.service_id&&(service_id=c.service_id);c.status?c.password&&c.email?
(sl=sswSocialLogin=1,d.preLogin(c.email,c.password),c.account_activation_token?d.login({customer_id:c.customer_id,token:c.account_activation_token,verified:c.verified,service:a,customer:{password:c.password,password_confirmation:c.password}}):d.login({verified:c.verified,service:a})):targetSEMModal(c,"facebook"):c.termsSignup||c.acceptMarketing?showAcceptTermsForm(c,"facebook",b):c.isOldCustomer?targetSEMModal(c,"facebook"):d.setServiceUser(b,"facebook")},dataType:"json"})})},validateLogin=function(){var b=
ssw("#sem_modal_form");b.validate({rules:{password:{required:!0}},highlight:function(a){ssw(a).closest(".ssw-control-group").addClass("ssw-error")},success:function(a){ssw(a).closest(".ssw-control-group").removeClass("ssw-error")},submitHandler:function(){var a=new ShopifyLogin,c=ssw("#sem_email").val(),d=ssw("#sem_password").val();ssw.cookie("ssw_verify_token",sswMd5(d+btoa(c)),{expires:30,path:"/"});a.preLogin(c,d);c=b.data("account-activation");"object"==typeof c?(c.customer={password:d,password_confirmation:d},
a.login(c),b.data("account-activation",!1)):a.login()}});ssw("#set-email-form").validate({rules:{email:{required:!0,email:!0}},highlight:function(a){ssw(a).closest(".ssw-control-group").addClass("ssw-error")},success:function(a){ssw(a).closest(".ssw-control-group").removeClass("ssw-error")},submitHandler:function(){ssw.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/setEmail",data:{_sid:ssw.cookie("hesid"),verify_token:ssw.cookie("ssw_verify_token"),service_id:ssw("#service_id").val(),email:ssw("#set-email-input").val()},
success:function(a){switch(a.error){case 0:var b=new ShopifyLogin;b.preLogin(a.email,a.password);b.login({verified:a.verified});break;case 1:a.user&&(b=[],a.user.twitter||b.push(".ssw-twconnect"),a.user.tumblr||b.push(".ssw-tmconnect"),a.user.instagram||b.push(".ssw-inconnect"),a=ssw("#login_modal"),a.find(b.join()).hide(),a.sswModal("show"),addMessage(ssw_message_selector,sswLangs.t("this_email_is_already_used"),"info"));break;case 2:addMessage2SetMailForm(sswLangs.t("incorrect_data"));break;case 3:addMessage2SetMailForm(sswLangs.t("tumblr_user_not_found"));
break;case 4:addMessage2SetMailForm(sswLangs.t("not_created_customer_on_shopify"));break;case 5:addMessage2SetMailForm(sswLangs.t("problem_on_create_user"))}},dataType:"json"})}});ssw("#he_create_customer").validate({rules:{email:{required:!0,email:!0}},highlight:function(a){ssw(a).closest(".ssw-control-group").addClass("ssw-error")},success:function(a){ssw(a).closest(".ssw-control-group").removeClass("ssw-error")},submitHandler:function(){(new ShopifyLogin).signUp()}});ssw("#he_customer_login").validate({rules:{"customer[email]":{required:!0,
email:!0},"customer[password]":{required:!0,minlength:1}},highlight:function(a){ssw(a).closest(".ssw-control-group").addClass("ssw-error")},success:function(a){ssw(a).closest(".ssw-control-group").removeClass("ssw-error")},submitHandler:function(){(new ShopifyLogin).login()}})},onOpenForm=function(){ssw(".ssw-login form").css("opacity","1");ssw(".ssw-login form input").removeAttr("disabled").attr("enabled","enabled");ssw(".ssw-signup-loading").hide();ssw(".he-login").css("opacity","1");ssw(".he-login input").removeAttr("disabled").attr("enabled",
"enabled");ssw(".ssw-login-loading").hide()},onSubmitForm=function(){ssw(".ssw-login form").css("opacity","0.3");ssw(".ssw-login form input").removeAttr("enabled").attr("disabled","disabled");ssw(".ssw-signup-loading").show();ssw(".he-login").css("opacity","0.3");ssw(".he-login input").removeAttr("enabled").attr("disabled","disabled");ssw(".ssw-login-loading").show()},addMessage2SetMailForm=function(b){var a=ssw("#set-email-error");a.html(b);a.show()},loginLoaderCancel=function(){ssw("#ssw-login-loader").parent().remove()},
loginLoader=function(){ssw(".ssw-modal").sswModal("hide");ssw("body").prepend('<div style="background: none repeat scroll 0 0 rgba(255, 255, 255, 0.77);height: 100%;position: fixed;width: 100%;z-index: 999;"><div class="ssw-login-loading" id="ssw-login-loader"> <span class="ssw-spin ssw-loader"></span> </div> </div>');ssw("#ssw-login-loader").css("opacity",1);ssw("#ssw-login-loader").css({position:"fixed",top:"50%",left:"50%"})},shopCallback4TTI=function(b,a){onSubmitForm();var c=sswProxyUrl+"/lite2/auth/"+
b+"?_sid="+ssw.cookie("hesid")+"&verify_token="+ssw.cookie("ssw_verify_token")+"&shop="+encodeURIComponent(Shopify.shop);c+=sswIsWebView()&&"&oauth_redirect_uri="+encodeURIComponent(location.href);sswIsWebView()?location.href=c:ssw.oauthpopup({path:c,callback:function(){sswDispatchEvent("sswoauthcallback",{detail:{service:a},bubbles:!0,cancellable:!1})}})},targetSEMModal=function(b,a){var c="";b.first_name&&(c+=b.first_name+" ");b.last_name&&(c+=b.last_name);if("invited"==b.state){ssw("#sem_btn").hide();
ssw("#sem_forgot").hide();ssw("#sem_password").hide();var d=sswLangs.t("already_registered_and_sent_invite_message",[b.email,a])}else if("enabled"!=b.state)ssw("#sem_btn").hide(),ssw("#sem_forgot").hide(),b.account_activation_token&&b.email?(d=sswLangs.t("already_registered_to_social_service",[b.email,a]),ssw("#sem_modal_form").data("account-activation",{customer_id:b.customer_id,token:b.account_activation_token})):(ssw("#sem_password").hide(),d=sswLangs.t("already_registered_and_disabled_account",
[b.email,a]));else{if(b.verified&&typeof window.ssw.usercheckResponse.multipass_enabled&&window.ssw.usercheckResponse.multipass_enabled){(new ShopifyLogin).multiPassLogin();return}d=sswLangs.t("already_registered_to_social_service",[b.email,a])}onOpenForm();ssw("#social_exist_modal .ssw-img-circle").hasClass("ssw-hide")||ssw("#social_exist_modal .ssw-img-circle").addClass("ssw-hide");if(b.photo_url){var f=new Image;f.onload=function(){ssw("#social_exist_modal .ssw-img-circle").removeClass("ssw-hide");
ssw("#social_exist_modal .ssw-img-circle").attr("src",b.photo_url)};f.src=b.photo_url}ssw("#sem_name").html(c);ssw("#sem_email").val(b.email);ssw("#sem_text").html(d);ssw("#login_modal").sswModal("hide");ssw("#social_exist_modal").sswModal()},showAcceptTermsForm=function(b,a,c){a?(ssw("#accept-terms-modal").data("own-app",{user:c,service:a}),ssw(".terms-email-group").hide()):ssw("#accept-terms-modal").removeData("own-app");ssw("#signup_modal").sswModal("hide");ssw("#login_modal").sswModal("hide");
b.service_id&&ssw("#ssw-accept-terms-service_id").val(b.service_id);b.email&&(ssw("#terms-email-input").val(b.email),ssw(".terms-email-group").hide());b.termsLink&&(ssw("#accept-terms-modal .terms-link").attr("href",b.termsLink).show(),ssw("#accept-terms-modal .terms-span").hide());b.termsSignup||ssw(".accept_terms-group").hide();b.acceptMarketing||(ssw(".accepts_marketing-group").hide(),ssw("#ssw-accept-marketing-checkbox").prop("checked",1));onOpenForm();ssw("#accept-terms-modal").sswModal()},sswOnAcceptMarketing=
function(b){"accepts_marketing"==b.name&&(b.checked?ssw("#ssw-customer-accepts_marketing").val(!0):ssw("#ssw-customer-accepts_marketing").val(!1))},sswOnAcceptTerms=function(b){"accept_terms"==b.name?b.checked?(ssw("#ssw-cancel-account-button").hide(),ssw("#ssw-create-account-button").show()):(ssw("#ssw-cancel-account-button").show(),ssw("#ssw-create-account-button").hide()):"terms"==b.name&&(b.checked?(ssw("#hesy-sign-up-cancel").hide(),ssw("#hesy-sign-up-submit").show()):(ssw("#hesy-sign-up-cancel").show(),
ssw("#hesy-sign-up-submit").hide()))},sswCancelAccount=function(){ssw("#accept-terms-modal").sswModal("hide");onOpenForm()},sswCreateAccount=function(){var b=ssw("#accept-terms-modal").data("own-app");ssw("#ssw-create-account-button").attr("disabled","disabled");if(b)(new ShopifyLogin).setServiceUser(b.user,b.service);else return ssw.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/acceptTerms",data:{_sid:ssw.cookie("hesid"),service_id:ssw("#ssw-accept-terms-service_id").val(),accepts_marketing:ssw("#ssw-accept-marketing-checkbox")[0].checked,
accept_terms:ssw("#ssw-accept-terms-checkbox")[0].checked,email:ssw("#terms-email-input").val()},success:function(a){switch(a.error){case 0:var b=new ShopifyLogin;b.preLogin(a.email,a.password);b.login({verified:a.verified});break;case 1:a.user&&(b=[],a.user.twitter||b.push(".ssw-twconnect"),a.user.tumblr||b.push(".ssw-tmconnect"),a.user.instagram||b.push(".ssw-inconnect"),a=ssw("#login_modal"),a.find(b.join()).hide(),a.sswModal("show"),addMessage(ssw_message_selector,sswLangs.t("this_email_is_already_used"),
"info"))}},dataType:"json"}),!1},service_id=0,sl=0,sswSocialLogin=0;window.addEventListener("sswoauthcallback",function(b){if(b.detail&&-1!==["twitter","tumblr","instagram"].indexOf(b.detail.service)){var a=b.detail.service;ssw.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/shopCallback",dataType:"json",data:{_sid:ssw.cookie("hesid"),hash_key:ssw.cookie("hash_key"),verify_token:ssw.cookie("ssw_verify_token"),service:a},success:function(b){sswSocialLogin=1;"undefined"!==typeof b.service_id&&(service_id=
b.service_id);if(ssw.isEmptyObject(b))onOpenForm();else if(b.termsSignup||b.acceptMarketing)showAcceptTermsForm(b);else if(b.password)if(b.isOldCustomer)targetSEMModal(b,a);else{var c=new ShopifyLogin;c.preLogin(b.email,b.password);c.login({verified:b.verified})}else"undefined"!==typeof b.user_id&&b.user_id&&b.verified&&typeof window.ssw.usercheckResponse.multipass_enabled&&window.ssw.usercheckResponse.multipass_enabled?(c=new ShopifyLogin,c.multiPassLogin()):(onOpenForm(),ssw("#service_id").val(b.service_id),
ssw(".ssw-modal").sswModal("hide"),b.email?targetSEMModal(b,a):ssw("#set-email-modal").sswModal())}})}});var addMessage=function(b,a,c){c="undefined"!==typeof c?"ssw-alert-"+c:"";ssw(b).prepend('<div class="ssw-alert '+c+' ssw-fade ssw-in"><button class="ssw-close" data-dismiss="ssw-alert">&times;</button>'+a+"</div>")},ShopifyLogin=function(){var b=this;this.check_customer_count=0;this.preLogin=function(a,b){ssw("#ssw-customer-email").val(a);ssw("#ssw-customer-password").val(b)};this.setServiceUser=
function(a,c){if("facebook"==c)FB.api("/me",{fields:"id,email,first_name,gender,last_name,link,locale,name,timezone,updated_time,verified"},function(d){ssw.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/setService",data:{user_id:a.authResponse.userID,access_token:a.authResponse.accessToken,user:d,service:c,_sid:ssw.cookie("hesid"),verify_token:ssw.cookie("ssw_verify_token"),accepts_marketing:!ssw.usercheckResponse.acceptMarketing||ssw("#ssw-accept-marketing-checkbox")[0].checked},success:function(a){service_id=
a.service_id;if(0==a.user_id)onOpenForm(),a.email?(ssw(".ssw-socialconnect").remove(),ssw("div.ssw-alert").remove(),ssw("#ssw-first_name").val(d.first_name).show(),ssw("#ssw-last_name").val(d.last_name).show(),ssw("#ssw-email").val(d.email),ssw("#login_modal").sswModal("hide"),ssw("#signup_modal").sswModal("show")):(ssw("#service_id").val(a.service_id),ssw(".ssw-modal").sswModal("hide"),ssw("#set-email-modal").sswModal());else if("enabled"!=a.state)if(a.password&&a.email){var c=new ShopifyLogin;c.preLogin(a.email,
a.password);a.account_activation_token?c.login({customer_id:a.customer_id,token:a.account_activation_token,verified:a.verified,customer:{password:a.password,password_confirmation:a.password}}):c.login({verified:a.verified})}else targetSEMModal(a,"Facebook");else!a.password&&a.email?targetSEMModal(a):(b.preLogin(a.email,a.password),b.login())},dataType:"json"})});else if("gplus"==c){var d=ssw.extend(a.gplusData,{_sid:ssw.cookie("hesid"),hash_key:sswCookie("hash_key"),verify_token:ssw.cookie("ssw_verify_token")});
ssw.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/glogin",data:d,success:function(a){sswSocialLogin=1;service_id=a.service_id;0==a.user_id?(onOpenForm(),ssw(ssw(".socialconnect")[1]).prev().remove(),ssw(ssw(".socialconnect")[1]).next().remove(),ssw(ssw(".socialconnect")[1]).next().remove(),ssw(ssw(".socialconnect")[1]).remove(),ssw("div.ssw-alert").remove(),ssw("#ssw-first_name").val(d.first_name),ssw("#ssw-last_name").val(d.last_name),ssw("#ssw-email").val(d.email),ssw("#login_modal").sswModal("hide"),
ssw("#signup_modal").sswModal("show")):"enabled"!=a.state?targetSEMModal(a,"gplus"):a.password?(b.preLogin(a.email,a.password),b.login()):targetSEMModal(a,"gplus")},dataType:"json"})}};this.redirectAfterAuth=function(a,b,d){if(-1<navigator.userAgent.indexOf("MSIE")&&d)location.href=d;else{var c=(-1<navigator.userAgent.indexOf("Chrome")||-1==navigator.userAgent.indexOf("Safari"))&&-1==navigator.userAgent.indexOf("Firefox")&&"https:"==location.protocol,e=location.protocol;c&&(e="http:"==location.protocol?
"https:":"http:");a=a.clone();a.attr("id","ssw-test-login");a.find("input").removeAttr("id").removeAttr("class");d=d?d:""==window.ssw.login_redirect_url?location.pathname.indexOf("/account/")?location.href:location.protocol+"//"+location.hostname:window.ssw.login_redirect_url;c||(d=d.replace("https:","http:"));var n="?checkout_url="+encodeURIComponent(d);if(a[0]){c=a[0];a.hide();ssw(document.body).append(a);d&&-1!=d.indexOf("checkout.shopify.com")||a.attr("action",c.action.replace(location.protocol,
e)+n);e=ssw('<input type="hidden" name="checkout_url" />');d&&e.val(d);a.append(e);for(var m in b)b.hasOwnProperty(m)&&(e=b[m],d=a.find('input[name="'+e.name+'"]'),d.length&&(d.removeAttr("disabled"),d.val(e.value)));c.submit()}}};this.customerIdPage=function(a,b,d,f,e){var c=this;c.check_customer_count++;ssw.ajax({url:sswProxyUrl+"/lite2/auth/customeridpage",type:"POST",data:a,success:function(m){ssw.cookie("ssw-userchecked",0,{expires:-1});var p=ssw("<div>");p.html(m);if(m=parseInt(p.find("#ssw-customer-id").html()))"undefined"==
typeof sswCookie("cart")?ssw.post(sswProxyUrl+"/lite2/auth/customerCart",{_sid:sswCookie("hesid"),hash_key:sswCookie("hash_key"),customer_id:m},function(a){a.cart&&ssw.cookie("cart",a.cart,{expires:14,path:"/"});c.redirectAfterAuth(b,d,f)},"json"):c.redirectAfterAuth(b,d,f);else if(e&&5>c.check_customer_count)setTimeout(function(){c.customerIdPage(a,b,d,f,e)},1E3);else if(!e){sswSocialLogin?trackShopStats("invalid_social_login","all"):trackShopStats("invalid_email_login","all");onOpenForm();loginLoaderCancel();
ssw("#login_modal").sswModal("show");if(sl)addMessage(ssw_message_selector,sswLangs.t("not_able_to_log_in_you_socially"),"warning");else{addMessage(ssw_message_selector,sswLangs.t("invalid_login_credentials"),"warning");var q=ssw("#ssw-customer-email").val();ssw.post(sswProxyUrl+"/lite2/auth/checkUserState",{email:q},function(a){a&&(a.success?addMessage(ssw_message_selector,sswLangs.t("already_registered_and_sent_invite_message",[q]),"warning"):addMessage(ssw_message_selector,sswLangs.t("already_registered_and_disabled_account",
[q]),"warning"))},"json")}sl=0;ssw("#hesy-login-submit").removeAttr("disabled").attr("enabled","enabled")}},dataType:"html"})};this.multiPassLogin=function(){ssw.get(sswProxyUrl+"/lite2/auth/getMultipassToken",{_sid:ssw.cookie("hesid")},function(a){a?ssw.get("/account/login/multipass/"+a,{},function(a){$("<div>").html(a).find("#ssw_cid").val()?((a=sswGetParameterByName("checkout_url"))||(a=""==window.ssw.login_redirect_url?location.pathname.indexOf("/account/")?location.href:location.protocol+"//"+
location.hostname:window.ssw.login_redirect_url),location.href=a):(trackShopStats("invalid_social_login","all"),addMessage(ssw_message_selector,sswLangs.t("not_able_to_log_in_you_socially"),"warning"),onOpenForm(),loginLoaderCancel(),ssw("#login_modal").sswModal("show"))}).fail(function(){trackShopStats("invalid_social_login","all");addMessage(ssw_message_selector,sswLangs.t("not_able_to_log_in_you_socially"),"warning");onOpenForm();loginLoaderCancel();ssw("#login_modal").sswModal("show")}):(trackShopStats("invalid_social_login",
"all"),addMessage(ssw_message_selector,sswLangs.t("not_able_to_log_in_you_socially"),"warning"),onOpenForm(),loginLoaderCancel(),ssw("#login_modal").sswModal("show"))})};this.login=function(a){var b=this;onOpenForm();loginLoader();var d=ssw("#he_customer_login"),f=d.serializeArray(),e={_sid:ssw.cookie("hesid"),hash_key:ssw.cookie("hash_key"),verify_token:ssw.cookie("ssw_verify_token"),service_id:service_id};for(p in f)if(f.hasOwnProperty(p)){var n=f[p];e[n.name]=n.value}"undefined"!=typeof sswCookie("cart")&&
(e.cart_token=sswCookie("cart"));var m=sswGetParameterByName("checkout_url");if(""!=m){var p=m.split("/");e.form_type="customer_login";e.utf8="%E2%9C%93";e.checkout_url=encodeURIComponent(m);e.cart=p[p.length-1];e.customer={email:ssw("#ssw-customer-email").val(),password:ssw("#ssw-customer-password").val()}}p="/account/login";n=e;a&&a.customer_id&&a.token&&a.customer&&a.customer.password&&a.customer.password_confirmation&&(p="/account/activate/"+a.customer_id+"/"+a.token,n=a,""!=m&&(n.checkout_url=
encodeURIComponent(m)));navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)&&""!=m&&-1!=m.indexOf("checkout.shopify.com")?(p=d.clone(),p.attr("id","ssw-login-clone-form"),p.css("display","none"),p.append('<input type="hidden" name="checkout_url" value="'+m+'"/>'),ssw(document.body).append(p),p.submit()):(ssw.ajax({type:"POST",url:p,data:n,xhr:function(){var a=ssw.ajaxSettings.xhr(),b=a.setRequestHeader;a.setRequestHeader=function(a,c){"X-Requested-With"!=a&&b.call(this,a,c)};return a},beforeSend:function(){onSubmitForm();
ssw("#hesy-login-submit").attr("disabled","disabled");ssw("#login_modal .ssw-alert").sswAlert("close")},success:function(c,h,k){c=c.split("script").join("div");c=ssw("<div>").html(c).find("#ssw_cid").val();if(0==c||"0"==c)if((k=k.getResponseHeader("x-xss-protection"))&&(k=decodeURI(k)),-1!==k.indexOf("source[action]=challenge&source[app]=Shopify"))location.href="/challenge";else{if(sl||sswSocialLogin||a&&a.service){if(a&&a.verified&&typeof window.ssw.usercheckResponse.multipass_enabled&&window.ssw.usercheckResponse.multipass_enabled){b.multiPassLogin();
return}trackShopStats("invalid_social_login","all");addMessage(ssw_message_selector,sswLangs.t("not_able_to_log_in_you_socially"),"warning")}else{trackShopStats("invalid_email_login","all");addMessage(ssw_message_selector,sswLangs.t("invalid_login_credentials"),"warning");var l=ssw("#ssw-customer-email").val();ssw.post(sswProxyUrl+"/lite2/auth/checkUserState",{email:l},function(a){a.success?addMessage(ssw_message_selector,sswLangs.t("already_registered_and_sent_invite_message",[l]),"warning"):addMessage(ssw_message_selector,
sswLangs.t("already_registered_and_disabled_account",[l]),"warning")},"json")}onOpenForm();loginLoaderCancel();ssw_is_auth_page||ssw("#login_modal").sswModal("show");ssw("#hesy-login-submit").removeAttr("disabled").attr("enabled","enabled")}else e.customer_timezone_offset=-60*(new Date).getTimezoneOffset(),ssw.post(sswProxyUrl+"/lite2/auth/login",e,function(a){if(a.error)sswSocialLogin?trackShopStats("invalid_social_login","all"):trackShopStats("invalid_email_login","all"),b.redirectAfterAuth(d,f,
m);else if(!a.cart||"undefined"!=typeof sswCookie("cart")&&sswCookie("cart")==a.cart)b.redirectAfterAuth(d,f,m);else{var c=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);ssw.getJSON("/cart.json?v="+c,function(c){c.item_count||ssw.cookie("cart",a.cart,{expires:14,path:"/"});b.redirectAfterAuth(d,f,m)})}},"json")},dataType:"html"}).fail(function(){b.customerIdPage(e,d,f,m,!1)}),-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&
setTimeout(function(){b.customerIdPage(e,d,f,m,!0)},1E3))};this.signUp=function(){var a=this;onOpenForm();var b=ssw("#he_create_customer"),d=b.find('input[type="password"]').val(),f=ssw("#he_customer_login"),e=b.serializeArray(),n=b.serialize()+"&_sid="+ssw.cookie("hesid")+"&service_id="+service_id+"&hash_key="+ssw.cookie("hash_key"),m=sswGetParameterByName("checkout_url");""!=m&&(b=m.split("/"),n+="&form_type=customer_login&utf8==%E2%9C%93&checkout_url="+encodeURIComponent(m)+"&cart="+b[b.length-
1]);ssw.ajax({type:"POST",url:"/account",data:n,xhr:function(){var a=ssw.ajaxSettings.xhr(),b=a.setRequestHeader;a.setRequestHeader=function(a,c){"X-Requested-With"!=a&&b.call(this,a,c)};return a},beforeSend:function(){onSubmitForm();ssw("#hesy-sign-up-submit").removeAttr("enabled").attr("disabled","disabled");ssw("#signup_modal .ssw-alert").sswAlert("close")},success:function(b,c,h){b=b.split("script").join("div");b=ssw("<div>").html(b);c=b.find(".errors li");0==c.length&&(c=b.find(".errors-list li"));
0==c.length&&(c=b.find("#create_customer .note.form-error li"));c.length?(onOpenForm(),ssw("#hesy-sign-up-submit").removeAttr("disabled").attr("enabled","enabled"),c.each(function(){addMessage("#signup_modal .login-failed",ssw(this).text(),"warning");addMessage('form[action$="/account"]:not(#he_create_customer)',ssw(this).text(),"warning")})):((h=h.getResponseHeader("x-xss-protection"))&&(h=decodeURI(h)),-1!==h.indexOf("source[action]=challenge&source[app]=Shopify")?ssw.ajax({type:"POST",url:sswProxyUrl+
"/lite2/auth/encrypt",data:{password:d},success:function(a){"undefined"!==typeof a.new_password&&a.new_password&&"undefined"!==typeof localStorage&&(localStorage.setItem("challenge_password",a.new_password),location.href="/challenge")},dataType:"json"}).fail(function(a){location.href="/challenge"}):ssw.post(sswProxyUrl+"/lite2/auth/register",n,function(b){ssw(document).trigger("sswOnCustomerSignedUp",b);""!=m?a.redirectAfterAuth(f,e,m):0==b.error?(ssw.cookie("ssw-userchecked",0,{expires:-1}),a.redirectAfterAuth(f,
e)):ssw(".login-failed").empty()},"json"))},dataType:"html"}).fail(function(b){if(400<parseInt(b.status)){onOpenForm();var c=ssw("<div>").html(b.responseText).find("div.content > div.content--block:nth-child(2) > div.content--desc").html();c=c?c:b.statusText;"Too many attempts: Please try again in 10 minutes"==ssw.trim(c)&&"undefined"!==typeof sswLangs.data.too_many_attempts&&(c=sswLangs.data.too_many_attempts);addMessage("#signup_modal .login-failed",c,"warning");addMessage('form[action$="/account"]:not(#he_create_customer)',
c,"warning")}else ssw.ajax({url:sswProxyUrl+"/lite2/auth/customeridpage",success:function(b){ssw.cookie("ssw-userchecked",0,{expires:-1});b=parseInt(ssw(b).text());0<b?(n+="$customer_id="+b,ssw.post(sswProxyUrl+"/lite2/auth/register",n,function(b){""!=m?a.redirectAfterAuth(f,e,m):0==b.error?(ssw.cookie("ssw-userchecked",0,{expires:-1}),a.redirectAfterAuth(f,e)):ssw(".login-failed").empty()},"json")):(onOpenForm(),addMessage(sswLangs.t("email_is_already_associated")))},dataType:"html"})})}};"undefined"!=
typeof sswApp["default"]&&sswApp["default"]&&sswRun(function(){ssw(document).ready(function(){ssw(document).on("submit",'form[action$="/account"],form[action$="/account/login"]',function(){var a=this.querySelector('input[name="customer[email]"]'),b=this.querySelector('input[name="customer[password]"]');a&&b&&(a.setAttribute("type","email"),a.setAttribute("required","required"),b.setAttribute("required","required"),b=this.querySelector('input[name="customer[email]"]'),a=this.querySelector('input[name="customer[password]"]').value,
b=btoa(b.value))&&(ssw.cookie("ssw_verify_token",sswMd5(a+b),{expires:30,path:"/"}),"he_customer_login"!==this.id&&"he_create_customer"!==this.id&&(a=btoa(btoa(btoa(a).split("").reverse().join("")).split("").reverse().join("")).split("").reverse().join(""),localStorage.setItem(b,a)))});var b=document.querySelector('form[action="/account/recover"]');if(b){var a=b.querySelector('input[name="email"]');a&&a.setAttribute("type","email");b.addEventListener("submit",function(a){b._passWasUnset||(a.preventDefault(),
a.stopPropagation());(a=b.querySelector('input[name="email"]').value)&&ssw.ajax({url:sswProxyUrl+"/lite2/auth/unsetpass",type:"POST",data:{email:a},dataType:"json",success:function(){b._passWasUnset=!0;b.submit()},error:function(){b._passWasUnset=!0;b.submit()}})})}var c=document.querySelector('form[action$="/account/reset"]');if(c){a=location.pathname.split("/account/reset/");var d=1<a.length?a[1].split("/")[0]:!1;d&&c.addEventListener("submit",function(a){c._passWasReset||(a.preventDefault(),a.stopPropagation());
a=c.querySelector('input[name="customer[password]"]');var b=c.querySelector('input[name="customer[password_confirmation]"]');if(a=a.value&&b.value&&a.value==b.value?b.value:!1)b="function"==typeof window.btoa,ssw.ajax({url:sswProxyUrl+"/lite2/auth/resetpass",type:"POST",data:{customer_id:d,new_token:b?window.btoa(a):a,encoded:b},dataType:"json",success:function(){c._passWasReset=!0;c.submit()},error:function(){c._passWasReset=!0;c.submit()}})})}})});window.addEventListener("sswoauthcallback",function(b){b.detail&&
("amazon"==b.detail.service?ssw.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/azshopcallback",data:{_sid:ssw.cookie("hesid"),hash_key:ssw.cookie("hash_key"),verify_token:ssw.cookie("ssw_verify_token")},success:function(a){"undefined"!==typeof a.service_id&&(service_id=a.service_id);sswSocialLogin=1;if(ssw.isEmptyObject(a))onOpenForm();else if(a.termsSignup||a.acceptMarketing)showAcceptTermsForm(a);else if("enabled"!=a.state)if(a.password&&a.email){var b=new ShopifyLogin;b.preLogin(a.email,a.password);
a.account_activation_token?b.login({customer_id:a.customer_id,token:a.account_activation_token,verified:a.verified,customer:{password:a.password,password_confirmation:a.password}}):b.login({verified:a.verified})}else targetSEMModal(a,"Amazon");else!a.password&&a.email?targetSEMModal(a,"Amazon"):a.password?(b=new ShopifyLogin,b.preLogin(a.email,a.password),b.login({verified:a.verified})):a.verified&&typeof window.ssw.usercheckResponse.multipass_enabled&&window.ssw.usercheckResponse.multipass_enabled?
(b=new ShopifyLogin,b.multiPassLogin()):(addMessage(ssw_message_selector,"sswLangs.t('already_registered_to_social_service2', [response.email])","warning"),ssw("#login_modal").sswModal())},dataType:"json"}):"yahoo"==b.detail.service&&ssw.ajax({type:"POST",url:sswProxyUrl+"/lite2/auth/yshopcallback",data:{_sid:ssw.cookie("hesid"),hash_key:ssw.cookie("hash_key"),verify_token:ssw.cookie("ssw_verify_token")},success:function(a){sswSocialLogin=1;"undefined"!==typeof a.service_id&&(service_id=a.service_id);
if(ssw.isEmptyObject(a))onOpenForm();else if(a.termsSignup||a.acceptMarketing)showAcceptTermsForm(a);else if("enabled"!=a.state)if(a.password&&a.email){var b=new ShopifyLogin;b.preLogin(a.email,a.password);a.account_activation_token?b.login({customer_id:a.customer_id,token:a.account_activation_token,customer:{password:a.password,password_confirmation:a.password}}):b.login({verified:a.verified})}else targetSEMModal(a,"Yahoo");else!a.password&&a.email?targetSEMModal(a,"Yahoo"):a.password?(b=new ShopifyLogin,
b.preLogin(a.email,a.password),b.login({verified:a.verified})):a.verified&&typeof window.ssw.usercheckResponse.multipass_enabled&&window.ssw.usercheckResponse.multipass_enabled?(b=new ShopifyLogin,b.multiPassLogin()):(addMessage(ssw_message_selector,sswLangs.t("already_registered_to_social_service2",[a.email]),"warning"),ssw("#login_modal").sswModal())},dataType:"json"}))});sswLibraryLoaded(function(){window.sswHelperLoaded?validateLogin():window.addEventListener("sswhelperload",validateLogin);ssw(document).on("click",
".ssw-azconnect",function(){onSubmitForm();var b=HE_DOMAIN+"/lite2/auth/azconnect?_sid="+ssw.cookie("hesid")+"&shop="+encodeURIComponent("https://"+Shopify.shop);b+=sswIsWebView()&&"&oauth_redirect_uri="+encodeURIComponent(location.href);sswIsWebView()?location.href=b:ssw.oauthpopup({path:b,windowOptions:sswGetPopupBounds(710,550),callback:function(){sswDispatchEvent("sswoauthcallback",{detail:{service:"amazon"},bubbles:!0,cancellable:!1})}})});ssw(document).on("click",".ssw-yconnect",function(){onSubmitForm();
var b=HE_DOMAIN+"/lite2/auth/yconnect?_sid="+ssw.cookie("hesid")+"&shop="+encodeURIComponent(Shopify.shop);b+=sswIsWebView()&&"&oauth_redirect_uri="+encodeURIComponent(location.href);sswIsWebView()?location.href=b:ssw.oauthpopup({path:b,callback:function(){sswDispatchEvent("sswoauthcallback",{detail:{service:"yahoo"},bubbles:!0,cancellable:!1})}})});ssw(document).on("click",".ssw-twconnect",function(){shopCallback4TTI("twconnect","twitter")});ssw(document).on("click",".ssw-inconnect",function(){shopCallback4TTI("inconnect",
"instagram")});ssw(document).on("click",".ssw-tmconnect",function(){shopCallback4TTI("tmconnect","tumblr")});ssw(document).on("keyup change","#he_create_customer input",function(){""!=ssw("#he_create_customer #ssw-email").val()&&""!=ssw("#he_create_customer #ssw-password").val()&&(ssw("#he_create_customer .ssw-first-name:hidden").length?ssw("#he_create_customer .ssw-first-name").slideDown():""!=ssw("#he_create_customer #ssw-first_name").val()&&ssw("#he_create_customer .ssw-last-name:hidden").length&&
ssw("#he_create_customer .ssw-last-name").slideDown())});ssw(document).on("shown.ssw.modal","#login_modal",function(){ssw(document.body).hasClass("ssw-touch")||ssw("#ssw-customer-email").focus()});ssw(document).on("show.ssw.modal","#login_modal",function(){ssw(".ssw-modal:not(#login_modal)").sswModal("hide")});ssw(document).on("shown.ssw.modal","#signup_modal",function(){ssw(document.body).hasClass("ssw-touch")||ssw("#he_create_customer input").each(function(b,a){if(""==ssw(a).val())return ssw(a).focus(),
!1})})});sswUserChecked(function(){function b(){var a=ssw.usercheckResponse;a.termsSignup&&(ssw("#ssw-signup-accept-terms").show().find('input[type="checkbox"]').attr("required","required"),a.termsLink&&(ssw("#ssw-signup-accept-terms-marketing .terms-link").attr("href",a.termsLink).show(),ssw("#ssw-signup-accept-terms-marketing .terms-span").hide()));a.acceptMarketing?ssw("#ssw-signup-accept-marketing").show():ssw("#ssw-customer-accepts_marketing").val(!0)}window.sswHelperLoaded?b():window.addEventListener("sswhelperload",
b)})}sswUserChecked(function(){var b=ssw.usercheckResponse.briteVerifyKey;b&&sswLoadScript("//cdn.briteverify.com/bforms.js",function(a){a=document.createElement("link");a.setAttribute("rel","stylesheet");a.setAttribute("type","text/css");a.setAttribute("media","all");a.setAttribute("href","//cdn.briteverify.com/bforms.css");document.getElementsByTagName("head")[0].appendChild(a);var c=function(a){var b=ssw(a.el).closest("form");"invalid"===a.status?(b.attr("onsubmit","event.preventDefault(); event.stopPropagation();return false;"),
b.find('[type="submit"]').attr("disabled","disabled")):("unknown"!==a.status&&"accept_all"!==a.status||this.promptConfirmation(),b.removeAttr("onsubmit"),b.find('[type="submit"]').removeAttr("disabled"))};a=document.querySelectorAll('form[action$="//'+location.hostname+'/account"]:not(#he_create_customer) [name="customer[email]"], form[action$="//'+Shopify.shop+'/account"]:not(#he_create_customer) [name="customer[email]"], #he_create_customer #email, #set-email-form #set-email-input');for(var d=[],
f=a.length,e=0;e<f;e++){var n=a[e],m=BriteForm.create({formKey:b,emailInput:n});m.on("verification:end",c);d.push(m);(function(a){setTimeout(function(){ssw(a).hasClass("bv-invalid")&&c({el:a,status:"invalid"})},1200)})(n)}d.length&&(window.__ssw_bv_forms=d)})});(function(){var b=sswCookie("cart"),a=sswCookie("cart_sig");sswCookie("_ssw_just_ordered");var c=sswCookie("_ssw_cart_data"),d=c?JSON.parse(window.atob(c)):!1,f={cart:sswCookie("cart"),cart_sig:sswCookie("cart_sig")},e=new XMLHttpRequest;e.open("GET",
"/cart.json");e.setRequestHeader("Content-Type","application/json");e.onreadystatechange=function(){if(4==e.readyState){var c=JSON.parse(e.responseText),m=JSON.parse(localStorage.getItem("_ssw_cart_data"));!c.items.length&&m&&m.items&&m.items.length&&d&&d.cart_token!=c.token&&(b!=d.cart||!a)&&(sswCookie("_ssw_just_ordered",1,24),localStorage.setItem("_ssw_last_checkout_cart",localStorage.getItem("_ssw_cart_data")),sswDispatchEvent("sswcheckoutprocessed",{detail:{cartObject:c},bubbles:!0,cancellable:!1}));
f.cart_token=c.token;sswCookie("_ssw_cart_data",window.btoa(JSON.stringify(f)),24);localStorage.setItem("_ssw_cart_data",JSON.stringify(c))}};e.send()})()};